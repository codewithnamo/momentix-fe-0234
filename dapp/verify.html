<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">

</head>

<body>


    <video id="scanner"></video>

    <div id="qrdata"></div>

    <script src="/scripts/qr-scanner.umd.min.js"></script>
    <script>
        async function scan() {
            var image = `data:image/png;base64,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`;
            var data = await QrScanner.scanImage(image);
            console.log(data);
        }
        scan();

        var videoElem = document.getElementById('scanner');
        var dataElem = document.getElementById('qrdata');
        const qrScanner = new QrScanner(
            videoElem,
            async result => {
                if ("data" in result) {
                    qrScanner.stop();
                    console.log('decoded qr code:', result.data);
                    dataElem.innerText = JSON.stringify(result.data);
                    const response = await fetch(`https://api.momentix.xyz/verify?address=${result.data.address}&event=${result.data.event}&tokenId=${result.data.tokenId}&hash=${result.data.hash}`);
                    const responseText = await response.json();
                    console.log(responseText);
                    dataElem.innerText = JSON.stringify(responseText);
                }
            },
            { /* your options or returnDetailedScanResult: true if you're not specifying any other options */ },
        );
        qrScanner.start();
    </script>
</body>

</html>